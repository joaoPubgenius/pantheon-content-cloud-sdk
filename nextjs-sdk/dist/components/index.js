'use strict';

var reactMarkdown_js = require('react-markdown/lib/react-markdown.js');
var g = require('react');
var jsxRuntime = require('react/jsx-runtime');

function _interopNamespace(e) {
	if (e && e.__esModule) return e;
	var n = Object.create(null);
	if (e) {
		Object.keys(e).forEach(function (k) {
			if (k !== 'default') {
				var d = Object.getOwnPropertyDescriptor(e, k);
				Object.defineProperty(n, k, d.get ? d : {
					enumerable: true,
					get: function () { return e[k]; }
				});
			}
		});
	}
	n.default = e;
	return Object.freeze(n);
}

var g__namespace = /*#__PURE__*/_interopNamespace(g);

var A=Object.defineProperty;var R=Object.getOwnPropertySymbols;var N=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable;var T=(t,e,n)=>e in t?A(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,p=(t,e)=>{for(var n in e||(e={}))N.call(e,n)&&T(t,n,e[n]);if(R)for(var n of R(e))O.call(e,n)&&T(t,n,e[n]);return t};var S=t=>{let e=(t==null?void 0:t.split("-"))||[];return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")},k=t=>{let e={};return !t||t.length<1||t.forEach(n=>{let[r,a]=n.split(":");if(!(!r&&!a)){if(r&&a){let f=S(r.trim());e[f]=a.trim();return}switch(r){case"underline":e.textDecoration="underline";break;case"line-through":e.textDecoration="line-through";break;case"italic":e.fontStyle="italic";break;case"bold":e.fontWeight="bold";break;case"strike-through":e.textDecoration="line-through";break;case"superscript":e.verticalAlign="super";break;case"subscript":e.verticalAlign="sub";break;}}}),e};var v=/&(?:amp|lt|gt|quot|#39);/g,H=RegExp(v.source),L={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},U=t=>e=>t==null?void 0:t[e],M=U(L),C=t=>t&&H.test(t)?t.replace(v,M):t;var q=({element:t})=>{if(t.tag==="hr")return jsxRuntime.jsx("hr",{});let e=jsxRuntime.jsx(c,{x:t.children});return ["h1","h2","h3","h4","h5","h6"].includes(t.tag)?g__namespace.default.createElement(t.tag,p({},t.attrs),e):t.tag==="table"?jsxRuntime.jsx("table",{className:"text-black",children:jsxRuntime.jsx("tbody",{children:e})}):t.tag==="p"||t.tag==="span"?jsxRuntime.jsx("p",{children:e}):t.tag==="ul"&&t.children.length?jsxRuntime.jsx("ul",{children:e}):t.tag==="ol"&&t.children.length?jsxRuntime.jsx("ol",{children:e}):t.tag==="component"?jsxRuntime.jsx(c,{x:t}):null},u=q;var m=({x:t})=>{if(Array.isArray(t))return jsxRuntime.jsx(jsxRuntime.Fragment,{children:t.map((s,d)=>jsxRuntime.jsx(m,{x:s},d))});if(t==null)return null;let e=typeof t=="string"?t:t.data,n=k((t==null?void 0:t.style)||""),r=Boolean(n["vertical-align"]==="super"),a=Boolean(n["vertical-align"]==="sub");return ["li","tr","td"].includes(t.tag)?g__namespace.createElement(t.tag,p({style:n},t.attrs),g__namespace.createElement(m,{x:t.children})):e!=null?g__namespace.createElement(r?"sup":a?"sub":"span",{style:n},C(e)):t.tag==="span"&&t.data==null?jsxRuntime.jsx("span",{children:jsxRuntime.jsx(m,{x:t.children})}):t.tag==="p"?jsxRuntime.jsx(u,{element:t}):t.tag==="a"?jsxRuntime.jsx("a",{href:t.href,target:"_blank",rel:"noopener noreferrer",style:n,children:t.data}):t.tag==="img"||t.tag==="image"?jsxRuntime.jsx("img",{src:t.src,alt:t.alt,title:t.title}):t.type==="BLOCKQUOTE"?jsxRuntime.jsxs("blockquote",{children:[jsxRuntime.jsx("p",{dir:"ltr",children:"QUOTE TEXT"}),jsxRuntime.jsx("p",{dir:"ltr",children:"-\xA0QUOTE ATTRIBUTION"})]}):null},c=m;var I=({article:t,headerClassName:e,bodyClassName:n,containerClassName:r,renderTitle:a})=>{if((t==null?void 0:t.contentType)==="TEXT_MARKDOWN")return jsxRuntime.jsx("div",{className:r,children:t!=null&&t.content?jsxRuntime.jsx(reactMarkdown_js.ReactMarkdown,{children:String(t.content)}):jsxRuntime.jsx("span",{children:"No content to display"})});let s=t!=null&&t.content?JSON.parse(t.content):[],d=s.findIndex(h=>["h1","h2","h3","h4","h5","h6","h7","p"].includes(h.tag)),[y]=s.splice(d,1),b=y?jsxRuntime.jsx(c,{x:y.children}):jsxRuntime.jsx("span",{children:t==null?void 0:t.title});return jsxRuntime.jsxs("div",{className:r,children:[jsxRuntime.jsx("div",{className:e,children:a?a(b):b}),jsxRuntime.jsx("div",{className:n,children:s==null?void 0:s.map((h,E)=>jsxRuntime.jsx(u,{element:h,keyElem:E},E))})]})},Q=I;

exports.ArticleRenderer = Q;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9jb21wb25lbnRzL0FydGljbGVSZW5kZXJlci9pbmRleC50c3giLCIuLi8uLi9zcmMvY29tcG9uZW50cy9BcnRpY2xlUmVuZGVyZXIvQXJ0aWNsZUNvbXBvbmVudC50c3giLCIuLi8uLi9zcmMvdXRpbHMvc3R5bGVzLnRzIiwiLi4vLi4vc3JjL3V0aWxzL3VuZXNjYXBlLnRzIiwiLi4vLi4vc3JjL2NvbXBvbmVudHMvQXJ0aWNsZVJlbmRlcmVyL1RvcExldmVsRWxlbWVudC50c3giXSwibmFtZXMiOlsiUmVhY3RNYXJrZG93biIsIlJlYWN0IiwiZm9ybWF0U3RyaW5nVG9DYW1lbENhc2UiLCJzdHIiLCJzcGxpdHRlZCIsIndvcmQiLCJnZXRTdHlsZU9iamVjdEZyb21TdHJpbmciLCJzdHlsZSIsImVsIiwicHJvcGVydHkiLCJ2YWx1ZSIsImZvcm1hdHRlZFByb3BlcnR5IiwicmVFc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJodG1sVW5lc2NhcGVzIiwiYmFzZVByb3BlcnR5T2YiLCJvYmplY3QiLCJrZXkiLCJ1bmVzY2FwZUh0bWxDaGFyIiwidW5lc2NhcGVIVE1MRW50aXRpZXMiLCJqc3giLCJUb3BMZXZlbEVsZW1lbnQiLCJlbGVtZW50IiwiY2hpbGRyZW4iLCJBcnRpY2xlQ29tcG9uZW50X2RlZmF1bHQiLCJfX3NwcmVhZFZhbHVlcyIsIlRvcExldmVsRWxlbWVudF9kZWZhdWx0IiwiRnJhZ21lbnQiLCJqc3hzIiwiQXJ0aWNsZUNvbXBvbmVudCIsIngiLCJzcGFuIiwiaWR4IiwidGV4dENvbnRlbnQiLCJzdHlsZXMiLCJpc1N1cGVyc2NyaXB0IiwiaXNTdWJzY3JpcHQiLCJBcnRpY2xlUmVuZGVyZXIiLCJhcnRpY2xlIiwiaGVhZGVyQ2xhc3NOYW1lIiwiYm9keUNsYXNzTmFtZSIsImNvbnRhaW5lckNsYXNzTmFtZSIsInJlbmRlclRpdGxlIiwicGFyc2VkQm9keSIsImluZGV4T2ZGaXJzdFBhcmFncmFwaCIsInRpdGxl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QUFDLE9BQUksVUFBV21CLEVBQ2IsU0FBQUcsRUFBY0EsRUFBWUksQ0FBYyxFQUFJQSxFQUMvQyxFQUNBMUIsRUFBQyxPQUFJLFVBQVdvQixFQUNiLFNBQUFHLEdBQUEsWUFBQUEsRUFBWSxJQUFJLENBQUNiLEVBQVFFLElBR3hCWixFQUFDTSxFQUFBLENBQWdCLFFBQVNJLEVBQWEsUUFBU0UsR0FBZEEsQ0FBbUIsR0FFekQsR0FDRixDQUVKLEVBRU9lLEVBQVFWIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFJlYWN0TWFya2Rvd24gfSBmcm9tICdyZWFjdC1tYXJrZG93bi9saWIvcmVhY3QtbWFya2Rvd24uanMnO1xuXG5pbXBvcnQgeyBBcnRpY2xlIH0gZnJvbSAnLi4vLi4vdHlwZXMnO1xuXG5pbXBvcnQgQXJ0aWNsZUNvbXBvbmVudCBmcm9tICcuL0FydGljbGVDb21wb25lbnQnO1xuaW1wb3J0IFRvcExldmVsRWxlbWVudCBmcm9tICcuL1RvcExldmVsRWxlbWVudCc7XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGFydGljbGU/OiBBcnRpY2xlO1xuICBib2R5Q2xhc3NOYW1lPzogc3RyaW5nO1xuICBjb250YWluZXJDbGFzc05hbWU/OiBzdHJpbmc7XG4gIGhlYWRlckNsYXNzTmFtZT86IHN0cmluZztcbiAgcmVuZGVyVGl0bGU/OiAodGl0bGVFbGVtZW50OiBSZWFjdC5SZWFjdEVsZW1lbnQpID0+IFJlYWN0LlJlYWN0Tm9kZTtcbn1cblxuY29uc3QgQXJ0aWNsZVJlbmRlcmVyID0gKHtcbiAgYXJ0aWNsZSxcbiAgaGVhZGVyQ2xhc3NOYW1lLFxuICBib2R5Q2xhc3NOYW1lLFxuICBjb250YWluZXJDbGFzc05hbWUsXG4gIHJlbmRlclRpdGxlLFxufTogUHJvcHMpID0+IHtcbiAgY29uc3QgY29udGVudFR5cGUgPSBhcnRpY2xlPy5jb250ZW50VHlwZTtcblxuICBpZiAoY29udGVudFR5cGUgPT09ICdURVhUX01BUktET1dOJykge1xuICAgIHJldHVybiAoXG4gICAgICA8ZGl2IGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3NOYW1lfT5cbiAgICAgICAge2FydGljbGU/LmNvbnRlbnQgPyAoXG4gICAgICAgICAgPFJlYWN0TWFya2Rvd24+e1N0cmluZyhhcnRpY2xlLmNvbnRlbnQpfTwvUmVhY3RNYXJrZG93bj5cbiAgICAgICAgKSA6IChcbiAgICAgICAgICA8c3Bhbj5ObyBjb250ZW50IHRvIGRpc3BsYXk8L3NwYW4+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICApO1xuICB9XG5cbiAgY29uc3QgcGFyc2VkQm9keTogYW55W10gPSBhcnRpY2xlPy5jb250ZW50ID8gSlNPTi5wYXJzZShhcnRpY2xlLmNvbnRlbnQpIDogW107XG4gIGNvbnN0IGluZGV4T2ZGaXJzdFBhcmFncmFwaCA9IHBhcnNlZEJvZHkuZmluZEluZGV4KCh4KSA9PlxuICAgIFsnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnLCAnaDcnLCAncCddLmluY2x1ZGVzKHgudGFnKSxcbiAgKTtcblxuICBjb25zdCBbdGl0bGVFbGVtZW50XSA9IHBhcnNlZEJvZHkuc3BsaWNlKGluZGV4T2ZGaXJzdFBhcmFncmFwaCwgMSk7XG5cbiAgY29uc3QgdGl0bGVDb21wb25lbnQgPSB0aXRsZUVsZW1lbnQgPyAoXG4gICAgPEFydGljbGVDb21wb25lbnQgeD17dGl0bGVFbGVtZW50LmNoaWxkcmVufSAvPlxuICApIDogKFxuICAgIDxzcGFuPnthcnRpY2xlPy50aXRsZX08L3NwYW4+XG4gICk7XG5cbiAgcmV0dXJuIChcbiAgICA8ZGl2IGNsYXNzTmFtZT17Y29udGFpbmVyQ2xhc3NOYW1lfT5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPXtoZWFkZXJDbGFzc05hbWV9PlxuICAgICAgICB7cmVuZGVyVGl0bGUgPyByZW5kZXJUaXRsZSh0aXRsZUNvbXBvbmVudCkgOiB0aXRsZUNvbXBvbmVudH1cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBjbGFzc05hbWU9e2JvZHlDbGFzc05hbWV9PlxuICAgICAgICB7cGFyc2VkQm9keT8ubWFwKCh4OiBhbnksIGlkeCkgPT4gKFxuICAgICAgICAgIC8vIE5vIHN0YWJsZSBrZXkgYXZhaWxhYmxlXG4gICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIHJlYWN0L25vLWFycmF5LWluZGV4LWtleVxuICAgICAgICAgIDxUb3BMZXZlbEVsZW1lbnQgZWxlbWVudD17eH0ga2V5PXtpZHh9IGtleUVsZW09e2lkeH0gLz5cbiAgICAgICAgKSl9XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IEFydGljbGVSZW5kZXJlcjtcbiIsImltcG9ydCAqIGFzIFJlYWN0IGZyb20gJ3JlYWN0JztcblxuaW1wb3J0IHsgZ2V0U3R5bGVPYmplY3RGcm9tU3RyaW5nIH0gZnJvbSAnLi4vLi4vdXRpbHMvc3R5bGVzJztcbmltcG9ydCB7IHVuZXNjYXBlSFRNTEVudGl0aWVzIH0gZnJvbSAnLi4vLi4vdXRpbHMvdW5lc2NhcGUnO1xuXG5pbXBvcnQgVG9wTGV2ZWxFbGVtZW50IGZyb20gJy4vVG9wTGV2ZWxFbGVtZW50JztcblxuY29uc3QgQXJ0aWNsZUNvbXBvbmVudCA9ICh7IHggfTogYW55KTogUmVhY3QuUmVhY3RFbGVtZW50IHwgbnVsbCA9PiB7XG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDw+XG4gICAgICAgIHt4Lm1hcCgoc3BhbjogYW55LCBpZHgpID0+IChcbiAgICAgICAgICAvLyBObyBzdGFibGUga2V5IGF2YWlsYWJsZVxuICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSByZWFjdC9uby1hcnJheS1pbmRleC1rZXlcbiAgICAgICAgICA8QXJ0aWNsZUNvbXBvbmVudCB4PXtzcGFufSBrZXk9e2lkeH0gLz5cbiAgICAgICAgKSl9XG4gICAgICA8Lz5cbiAgICApO1xuICB9XG4gIGlmICh4ID09IG51bGwpIHJldHVybiBudWxsO1xuXG4gIGNvbnN0IHRleHRDb250ZW50ID0gdHlwZW9mIHggPT09ICdzdHJpbmcnID8geCA6IHguZGF0YTtcbiAgY29uc3Qgc3R5bGVzID0gZ2V0U3R5bGVPYmplY3RGcm9tU3RyaW5nKHg/LnN0eWxlIHx8ICcnKTtcbiAgY29uc3QgaXNTdXBlcnNjcmlwdCA9IEJvb2xlYW4oc3R5bGVzWyd2ZXJ0aWNhbC1hbGlnbiddID09PSAnc3VwZXInKTtcbiAgY29uc3QgaXNTdWJzY3JpcHQgPSBCb29sZWFuKHN0eWxlc1sndmVydGljYWwtYWxpZ24nXSA9PT0gJ3N1YicpO1xuXG4gIGNvbnN0IGFydGljbGVDb21wb25lbnRzID0gWydsaScsICd0cicsICd0ZCddO1xuXG4gIGlmIChhcnRpY2xlQ29tcG9uZW50cy5pbmNsdWRlcyh4LnRhZykpIHtcbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgIHgudGFnLFxuICAgICAgeyBzdHlsZTogc3R5bGVzLCAuLi54LmF0dHJzIH0sXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KEFydGljbGVDb21wb25lbnQsIHsgeDogeC5jaGlsZHJlbiB9KSxcbiAgICApO1xuICB9XG5cbiAgaWYgKHRleHRDb250ZW50ICE9IG51bGwpIHtcbiAgICBjb25zdCB0YWcgPSBpc1N1cGVyc2NyaXB0ID8gJ3N1cCcgOiBpc1N1YnNjcmlwdCA/ICdzdWInIDogJ3NwYW4nO1xuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgdGFnLFxuICAgICAgeyBzdHlsZTogc3R5bGVzIH0sXG4gICAgICB1bmVzY2FwZUhUTUxFbnRpdGllcyh0ZXh0Q29udGVudCksXG4gICAgKTtcbiAgfVxuXG4gIGlmICh4LnRhZyA9PT0gJ3NwYW4nICYmIHguZGF0YSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxzcGFuPlxuICAgICAgICA8QXJ0aWNsZUNvbXBvbmVudCB4PXt4LmNoaWxkcmVufSAvPlxuICAgICAgPC9zcGFuPlxuICAgICk7XG4gIH1cblxuICBpZiAoeC50YWcgPT09ICdwJykge1xuICAgIHJldHVybiA8VG9wTGV2ZWxFbGVtZW50IGVsZW1lbnQ9e3h9IC8+O1xuICB9XG5cbiAgaWYgKHgudGFnID09PSAnYScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPGEgaHJlZj17eC5ocmVmfSB0YXJnZXQ9XCJfYmxhbmtcIiByZWw9XCJub29wZW5lciBub3JlZmVycmVyXCIgc3R5bGU9e3N0eWxlc30+XG4gICAgICAgIHt4LmRhdGF9XG4gICAgICA8L2E+XG4gICAgKTtcbiAgfVxuICBpZiAoeC50YWcgPT09ICdpbWcnIHx8IHgudGFnID09PSAnaW1hZ2UnKSB7XG4gICAgcmV0dXJuIDxpbWcgc3JjPXt4LnNyY30gYWx0PXt4LmFsdH0gdGl0bGU9e3gudGl0bGV9IC8+O1xuICB9XG5cbiAgaWYgKHgudHlwZSA9PT0gJ0JMT0NLUVVPVEUnKSB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxibG9ja3F1b3RlPlxuICAgICAgICA8cCBkaXI9XCJsdHJcIj5RVU9URSBURVhUPC9wPlxuICAgICAgICA8cCBkaXI9XCJsdHJcIj4tJm5ic3A7UVVPVEUgQVRUUklCVVRJT048L3A+XG4gICAgICA8L2Jsb2NrcXVvdGU+XG4gICAgKTtcbiAgfVxuXG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgQXJ0aWNsZUNvbXBvbmVudDtcbiIsImNvbnN0IGZvcm1hdFN0cmluZ1RvQ2FtZWxDYXNlID0gKHN0cj86IHN0cmluZykgPT4ge1xuICBjb25zdCBzcGxpdHRlZCA9IHN0cj8uc3BsaXQoJy0nKSB8fCBbXTtcbiAgaWYgKHNwbGl0dGVkLmxlbmd0aCA9PT0gMSkgcmV0dXJuIHNwbGl0dGVkWzBdO1xuICByZXR1cm4gKFxuICAgIHNwbGl0dGVkWzBdICtcbiAgICBzcGxpdHRlZFxuICAgICAgLnNsaWNlKDEpXG4gICAgICAubWFwKCh3b3JkKSA9PiB3b3JkWzBdLnRvVXBwZXJDYXNlKCkgKyB3b3JkLnNsaWNlKDEpKVxuICAgICAgLmpvaW4oJycpXG4gICk7XG59O1xuXG5leHBvcnQgY29uc3QgZ2V0U3R5bGVPYmplY3RGcm9tU3RyaW5nID0gKHN0cj86IHN0cmluZ1tdKSA9PiB7XG4gIGNvbnN0IHN0eWxlID0ge30gYXMgUmVjb3JkPHN0cmluZywgc3RyaW5nPjtcblxuICBpZiAoIXN0ciB8fCBzdHIubGVuZ3RoIDwgMSkgcmV0dXJuIHN0eWxlO1xuXG4gIHN0ci5mb3JFYWNoKChlbCkgPT4ge1xuICAgIGNvbnN0IFtwcm9wZXJ0eSwgdmFsdWVdID0gZWwuc3BsaXQoJzonKTtcbiAgICBpZiAoIXByb3BlcnR5ICYmICF2YWx1ZSkgcmV0dXJuO1xuXG4gICAgaWYgKHByb3BlcnR5ICYmIHZhbHVlKSB7XG4gICAgICBjb25zdCBmb3JtYXR0ZWRQcm9wZXJ0eSA9IGZvcm1hdFN0cmluZ1RvQ2FtZWxDYXNlKHByb3BlcnR5LnRyaW0oKSk7XG4gICAgICBzdHlsZVtmb3JtYXR0ZWRQcm9wZXJ0eV0gPSB2YWx1ZS50cmltKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHN3aXRjaCAocHJvcGVydHkpIHtcbiAgICAgIGNhc2UgJ3VuZGVybGluZSc6XG4gICAgICAgIHN0eWxlLnRleHREZWNvcmF0aW9uID0gJ3VuZGVybGluZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbGluZS10aHJvdWdoJzpcbiAgICAgICAgc3R5bGUudGV4dERlY29yYXRpb24gPSAnbGluZS10aHJvdWdoJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdpdGFsaWMnOlxuICAgICAgICBzdHlsZS5mb250U3R5bGUgPSAnaXRhbGljJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdib2xkJzpcbiAgICAgICAgc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdHJpa2UtdGhyb3VnaCc6XG4gICAgICAgIHN0eWxlLnRleHREZWNvcmF0aW9uID0gJ2xpbmUtdGhyb3VnaCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc3VwZXJzY3JpcHQnOlxuICAgICAgICBzdHlsZS52ZXJ0aWNhbEFsaWduID0gJ3N1cGVyJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzdWJzY3JpcHQnOlxuICAgICAgICBzdHlsZS52ZXJ0aWNhbEFsaWduID0gJ3N1Yic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gc3R5bGU7XG59O1xuIiwiY29uc3QgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZztcbmNvbnN0IHJlSGFzRXNjYXBlZEh0bWwgPSBSZWdFeHAocmVFc2NhcGVkSHRtbC5zb3VyY2UpO1xuXG5jb25zdCBodG1sVW5lc2NhcGVzID0ge1xuICAnJmFtcDsnOiAnJicsXG4gICcmbHQ7JzogJzwnLFxuICAnJmd0Oyc6ICc+JyxcbiAgJyZxdW90Oyc6ICdcIicsXG4gICcmIzM5Oyc6IFwiJ1wiLFxufTtcblxuY29uc3QgYmFzZVByb3BlcnR5T2YgPSAob2JqZWN0OiBSZWNvcmQ8YW55LCBhbnk+KSA9PiAoa2V5OiBhbnkpID0+XG4gIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG5cbmNvbnN0IHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuZXhwb3J0IGNvbnN0IHVuZXNjYXBlSFRNTEVudGl0aWVzID0gKHN0cjogc3RyaW5nKSA9PlxuICBzdHIgJiYgcmVIYXNFc2NhcGVkSHRtbC50ZXN0KHN0cilcbiAgICA/IHN0ci5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgOiBzdHI7XG4iLCJpbXBvcnQgUmVhY3QgZnJvbSAncmVhY3QnO1xuXG5pbXBvcnQgQXJ0aWNsZUNvbXBvbmVudCBmcm9tICcuL0FydGljbGVDb21wb25lbnQnO1xuXG5jb25zdCBUb3BMZXZlbEVsZW1lbnQgPSAoeyBlbGVtZW50IH06IGFueSkgPT4ge1xuICBpZiAoZWxlbWVudC50YWcgPT09ICdocicpIHtcbiAgICByZXR1cm4gPGhyIC8+O1xuICB9XG5cbiAgY29uc3QgY2hpbGRyZW4gPSA8QXJ0aWNsZUNvbXBvbmVudCB4PXtlbGVtZW50LmNoaWxkcmVufSAvPjtcblxuICBjb25zdCBhcnRpY2xlQ29tcG9uZW50cyA9IFsnaDEnLCAnaDInLCAnaDMnLCAnaDQnLCAnaDUnLCAnaDYnXTtcblxuICBpZiAoYXJ0aWNsZUNvbXBvbmVudHMuaW5jbHVkZXMoZWxlbWVudC50YWcpKSB7XG4gICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoZWxlbWVudC50YWcsIHsgLi4uZWxlbWVudC5hdHRycyB9LCBjaGlsZHJlbik7XG4gIH1cblxuICBpZiAoZWxlbWVudC50YWcgPT09ICd0YWJsZScpIHtcbiAgICByZXR1cm4gKFxuICAgICAgPHRhYmxlIGNsYXNzTmFtZT1cInRleHQtYmxhY2tcIj5cbiAgICAgICAgPHRib2R5PntjaGlsZHJlbn08L3Rib2R5PlxuICAgICAgPC90YWJsZT5cbiAgICApO1xuICB9XG5cbiAgaWYgKGVsZW1lbnQudGFnID09PSAncCcgfHwgZWxlbWVudC50YWcgPT09ICdzcGFuJykge1xuICAgIHJldHVybiA8cD57Y2hpbGRyZW59PC9wPjtcbiAgfVxuICBpZiAoZWxlbWVudC50YWcgPT09ICd1bCcgJiYgZWxlbWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICByZXR1cm4gPHVsPntjaGlsZHJlbn08L3VsPjtcbiAgfVxuICBpZiAoZWxlbWVudC50YWcgPT09ICdvbCcgJiYgZWxlbWVudC5jaGlsZHJlbi5sZW5ndGgpIHtcbiAgICByZXR1cm4gPG9sPntjaGlsZHJlbn08L29sPjtcbiAgfVxuICBpZiAoZWxlbWVudC50YWcgPT09ICdjb21wb25lbnQnKSB7XG4gICAgcmV0dXJuIDxBcnRpY2xlQ29tcG9uZW50IHg9e2VsZW1lbnR9IC8+O1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcblxuZXhwb3J0IGRlZmF1bHQgVG9wTGV2ZWxFbGVtZW50O1xuIl19